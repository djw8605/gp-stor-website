---
// File: src/components/FeaturesList.astro
import { Icon } from '@astrojs/starlight/components';

export interface FeatureItem {
  /** Icon name from Starlight's Icon component */
  icon: string;
  /** Title text displayed under the icon. */
  title: string;
  /** Short description for the feature. */
  summary: string;
  /** Optional link URL. If provided, a link is rendered. */
  href?: string;
  /** Optional link label. Defaults to "Read more" when href exists. */
  linkText?: string;
  /** Optional Tailwind classes for icon container background. */
  iconClass?: string;
}

interface Props {
  features: FeatureItem[];
  /** Optional container classes to adjust spacing or width. */
  containerClass?: string;
  /** Optional title displayed above features */
  featureTitle?: string;
  /** Optional summary text displayed below title */
  featureSummary?: string;
}

const { features, containerClass = "container py-10 mx-auto", featureTitle, featureSummary } = Astro.props as Props;
---

<section class="">
  <div class={containerClass}>
    {(featureTitle || featureSummary) && (
      <div class="mb-8">
        {featureTitle && (
          <h1 class="text-2xl font-semibold text-gray-800 capitalize lg:text-3xl dark:text-white" set:html={featureTitle} />
        )}
        {featureSummary && (
          <p class="mt-4 text-gray-500 xl:mt-6 dark:text-gray-300">
            {featureSummary}
          </p>
        )}
      </div>
    )}
    <div class="grid grid-cols-1 gap-8 mt-4 xl:gap-16 md:grid-cols-2">
      {features.map((f) => {
        const iconClass = f.iconClass ?? "inline-block p-3 text-green-500 bg-green-100 rounded-full dark:text-white dark:bg-blue-500";
        const linkText = f.linkText ?? "read more";
        return (
          <div class="space-y-3 mt-0">
            <span class={iconClass}>
              <Icon name={f.icon} class="w-6 h-6" />
            </span>

            <h3 class="text-xl font-semibold text-gray-700 capitalize dark:text-white">{f.title}</h3>

            <p class="text-gray-500 dark:text-gray-300">{f.summary}</p>

            {f.href && (
              <a href={f.href} class="inline-flex items-center -mx-1 text-sm text-blue-500 capitalize transition-colors duration-300 transform dark:text-blue-400 hover:underline hover:text-blue-600 dark:hover:text-blue-500">
                <span class="mx-1">{linkText}</span>
                <svg class="w-4 h-4 mx-1 rtl:-scale-x-100" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
              </a>
            )}
          </div>
        );
      })}
    </div>
  </div>
</section>